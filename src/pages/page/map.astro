<!-- ---
import SubPageLayout from "../../layouts/SubPageLayout.astro";
const PageTitle = "校内地図";
---

<SubPageLayout PageTitle={PageTitle}>
    <section class="map-section fade-in">
        <div class="map-intro">
            <p>
                校内の各フロアの案内図です。展示場所や施設の位置をご確認ください。
            </p>
            <p>
                地図の画像はクリックすると拡大されます。
            </p>
        </div>

        <div class="floor-maps">
            <div class="floor-map" id="floor-1">
                <h3>1階</h3>
                <div class="map-image-container">
                    <img src="/img/maps/first_floor.png" alt="1階の校内地図" class="floor-map-image" />
                </div>
            </div>

            <div class="floor-map" id="floor-2">
                <h3>2階</h3>
                <div class="map-image-container">
                    <img src="/img/maps/second_floor.png" alt="2階の校内地図" class="floor-map-image" />
                </div>
            </div>

            <div class="floor-map" id="floor-3">
                <h3>3階</h3>
                <div class="map-image-container">
                    <img src="/img/maps/third_floor.png" alt="3階の校内地図" class="floor-map-image" />
                </div>
            </div>

            <div class="floor-map" id="floor-4">
                <h3>4階</h3>
                <div class="map-image-container">
                    <img src="/img/maps/forth_floor.png" alt="4階の校内地図" class="floor-map-image" />
                </div>
            </div>
        </div>
    </section>
</SubPageLayout>

<style>
.map-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

.map-intro {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
}

.map-intro p {
    font-size: 1.1rem;
    color: #2c3e50;
    margin: 0;
}

.floor-maps {
    margin-bottom: 3rem;
}

.floor-map {
    background: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    margin-bottom: 2rem;
    padding: 1.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
}

.floor-map:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.floor-map h3 {
    color: #2c3e50;
    font-size: 1.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid #3498db;
    text-align: center;
}

.map-image-container {
    text-align: center;
    margin-bottom: 1rem;
    border-radius: 8px;
    overflow: hidden;
    background: #f8f9fa;
    padding: 1rem;
}

.floor-map-image {
    max-width: 100%;
    height: auto;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: transform 0.3s ease;
}

.floor-map-image:hover {
    transform: scale(1.02);
}

.floor-description {
    text-align: center;
}

.floor-description p {
    color: #555;
    font-size: 1rem;
    line-height: 1.6;
    margin: 0;
}

.map-legend, .map-notice {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
    margin-bottom: 2rem;
    border-left: 4px solid #3498db;
}

.map-legend h3, .map-notice h3 {
    color: #2c3e50;
    margin-bottom: 1rem;
    font-size: 1.3rem;
}

.map-legend ul, .map-notice ul {
    margin: 0;
    padding-left: 1.5rem;
}

.map-legend li, .map-notice li {
    margin: 0.8rem 0;
    line-height: 1.5;
    color: #555;
}

.map-legend strong {
    color: #2c3e50;
}

@media (max-width: 768px) {
    .map-section {
        padding: 1rem;
    }
    
    .floor-map {
        padding: 1rem;
    }
    
    .map-image-container {
        padding: 0.5rem;
    }
    
    .floor-map h3 {
        font-size: 1.3rem;
    }
}

/* Image zoom modal styles */
.floor-map-image {
    cursor: zoom-in;
}

.floor-map-image:active {
    cursor: zoom-out;
}
</style>

<script>
// Add click functionality to images for full-screen viewing
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('.floor-map-image');
    
    images.forEach(image => {
        image.addEventListener('click', function() {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                cursor: zoom-out;
            `;
            
            // Create image clone
            const modalImage = this.cloneNode();
            modalImage.style.cssText = `
                max-width: 90%;
                max-height: 90%;
                object-fit: contain;
                border-radius: 8px;
            `;
            
            modal.appendChild(modalImage);
            document.body.appendChild(modal);
            
            // Close modal on click
            modal.addEventListener('click', function() {
                document.body.removeChild(modal);
            });
            
            // Close modal on ESC key
            const handleEscape = function(e) {
                if (e.key === 'Escape') {
                    document.body.removeChild(modal);
                    document.removeEventListener('keydown', handleEscape);
                }
            };
            document.addEventListener('keydown', handleEscape);
        });
    });
});
</script> -->